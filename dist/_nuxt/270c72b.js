(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{454:function(t,e,r){"use strict";r.d(e,"a",(function(){return c}));r(22),r(72),r(74),r(66),r(67),r(48);var n=r(1);function c(t){return n.a.extend({name:"v-".concat(t),functional:!0,props:{id:String,tag:{type:String,default:"div"}},render:function(e,r){var n=r.props,data=r.data,c=r.children;data.staticClass="".concat(t," ").concat(data.staticClass||"").trim();var o=data.attrs;if(o){data.attrs={};var l=Object.keys(o).filter((function(t){if("slot"===t)return!1;var e=o[t];return t.startsWith("data-")?(data.attrs[t]=e,!1):e||"string"==typeof e}));l.length&&(data.staticClass+=" ".concat(l.join(" ")))}return n.id&&(data.domProps=data.domProps||{},data.domProps.id=n.id),e(n.tag,data,c)}})}},484:function(t,e,r){"use strict";r(254);var n=r(454);e.a=Object(n.a)("flex")},513:function(t,e,r){var content=r(618);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(9).default)("bcd5f6f2",content,!0,{sourceMap:!1})},617:function(t,e,r){"use strict";r(513)},618:function(t,e,r){(e=r(8)(!1)).push([t.i,"#customTextInput[data-v-857d9906]{background-color:#fff}.map[data-v-857d9906]{width:300px}",""]),t.exports=e},659:function(t,e,r){"use strict";r.r(e);r(47);var n=r(17),c={data:function(){return{places:[],customText:""}},created:function(){this.initialize()},methods:{initialize:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.$get("/api/place/".concat(t.$route.params.id));case 2:r=e.sent,t.places=r;case 4:case"end":return e.stop()}}),e)})))()},getLatLng:function(t){return[t.lat,t.lng]},addMarker:function(t){var e=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var n,c,o,l;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n=t.latlng,c=n.lat,o=n.lng,""===e.customText){r.next=7;break}return l={activity:e.$route.params.id,lat:c,lng:o,title:e.customText},r.next=5,e.$axios.$post("/api/place",l);case 5:return r.next=7,e.initialize();case 7:case"end":return r.stop()}}),r)})))()},removeMarker:function(t){var e=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.places[t],r.next=3,e.$axios.$delete("/api/place/".concat(n._id));case 3:return r.next=5,e.initialize();case 5:case"end":return r.stop()}}),r)})))()}}},o=(r(617),r(73)),l=r(112),d=r.n(l),f=r(484),m=r(463),component=Object(o.a)(c,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("v-flex",[r("div",[r("v-text-field",{staticClass:"map",attrs:{"prepend-icon":"mdi-map-marker",label:"Place Title",required:"",clearable:""},model:{value:t.customText,callback:function(e){t.customText=e},expression:"customText"}}),r("br"),r("br")],1)]),t._v(" "),r("div",{staticStyle:{height:"80vh"},attrs:{id:"map-wrap"}},[r("no-ssr",[r("l-map",{attrs:{zoom:7,center:[34.46427430192848,9.551030828063602]},on:{click:t.addMarker}},[r("l-tile-layer",{attrs:{url:"http://{s}.tile.osm.org/{z}/{x}/{y}.png"}}),t._v(" "),t._l(t.places,(function(e,n){return r("l-marker",{key:n,attrs:{"lat-lng":t.getLatLng(e)},on:{click:function(e){return t.removeMarker(n)}}},[r("l-tooltip",{attrs:{options:{permanent:!0,interactive:!0}}},[t._v(t._s(e.title))])],1)}))],2)],1)],1)],1)}),[],!1,null,"857d9906",null);e.default=component.exports;d()(component,{VFlex:f.a,VTextField:m.a})}}]);